<!DOCTYPE html>
<html lang="es">
  <head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <script src="https://q5js.org/q5.min.js"></script> -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.min.js"></script>
		 <style>
			html, body {
				margin: 0;
				padding: 0;
				/* overflow: hidden; */
				box-sizing: border-box;
				background-color: blueviolet;
			}

			#contenedor-canvas {
				width: 100vw;
				width: 100svw;
				height: 100vh;
				height: 100svh;
				background-color: aqua;
			}
		 </style>
		<title>qrs</title>
  </head>
  <body>
    <main id="contenedor-canvas">
    </main>
    <script>

/////////////////////////////////////////////
// modelo pagina qrs

function setup() {

	// medidas viewport
	let vpt_w = window.visualViewport?.width || window.innerWidth;
	let vpt_h = window.visualViewport?.height || window.innerHeight;

	// calculo canvas
	let cnv_w = 540; // mitad de 1080
	let cnv_h = cnv_w * vpt_h / vpt_w;

	createCanvas(cnv_w, cnv_h).parent("contenedor-canvas");
	windowResized(); // responsive
	background(140);
	textAlign(CENTER, CENTER);
	noStroke();
}

function draw() {
	background(140, 6);

	fill(140, 140, 220);
	circle(
		(frameCount % (width - 100)) + 50,
		(frameCount % (height - 100)) + 50,
		100
	);

	fill(220, 140, 140);
	circle(
		width - ((frameCount % (width - 100)) + 50),
		(frameCount % (height - 100)) + 50,
		100
	);

	fill(140, 220, 140);
	circle(
		(frameCount % (width - 100)) + 50,
		height - ((frameCount % (height - 100)) + 50),
		100
	);

	fill(220, 220, 140);
	circle(
		width - ((frameCount % (width - 100)) + 50),
		height - ((frameCount % (height - 100)) + 50),
		100
	);

	fill(0);
	text("width: " + width + "\nheight: " + floor(height), 270, height * 0.5)
}

function windowResized() {
  
  let pag = document.getElementsByTagName("main")[0];
  let cnv = document.getElementById("defaultCanvas0");
  
  // margen <== EDITABLE porcentaje entre 0% y 50%
  let mrg = 0; 
  
  pag.style.overflow = "hidden";
  pag.style.display = "flex";
  pag.style.justifyContent = "center";
  pag.style.alignItems = "center";
  pag.style.height = "100svh";
 
  if (windowWidth * height > windowHeight * width) {
    cnv.style.height = (100 - mrg * 2) + "svh";
    cnv.style.width = ((100 - mrg * 2) / height) * width + "svh";
  }
  else {
    cnv.style.width = (100 - mrg * 2) + "vw";
    cnv.style.height = ((100 - mrg * 2) / width) * height + "vw";
  }
}
//
/////////////////////////////////////////////

		</script>
  </body>
</html>
